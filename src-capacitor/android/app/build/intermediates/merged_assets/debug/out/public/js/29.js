(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[29],{"5f0e":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-page",[o("modules")],1)},i=[],s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("header_vel",[e._v("\n    modulos de sistema\n")]),o("q-btn",{attrs:{label:"crear",icon:"add"},on:{click:function(t){e.showModal=!e.showModal}}}),o("q-dialog",{model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[o("modulesForm")],1),e.modules.length>0?o("q-list",{attrs:{dark:"",bordered:"",separator:""}},e._l(e.modules,(function(e,t){return o("modulesCard",{key:t,attrs:{module:e}})})),1):e._e()],1)},l=[],n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("q-card",{staticClass:"aboo_card glass border-glass-1"},[o("q-card-section",{staticClass:"flex flex-center"},[o("div",{staticClass:"text-h6"},[e._v(" "+e._s(e.modules._id?"actualizar":"Crear nuevo")+" ")])]),o("q-card-section",[e.showAddCapabilies?e._e():o("q-form",{staticClass:"aboo_form",on:{submit:e.store}},[o("div",[o("q-input",{attrs:{outlined:"",dark:"",type:"text",label:"Nombre","label-color":"white"},model:{value:e.modules.name,callback:function(t){e.$set(e.modules,"name",t)},expression:"modules.name"}})],1),o("div",[e._v("\n            Funcionalidades "),o("q-btn",{staticClass:"bg-blue",attrs:{rounded:"",icon:"add"},on:{click:function(t){e.showAddCapabilies=!e.showAddCapabilies}}}),o("div",[e.modules.capabilites.length>0?o("q-list",{staticStyle:{"max-width":"318px"},attrs:{dark:"",bordered:"",separator:""}},e._l(e.modules.capabilites,(function(t,a){return o("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:a,attrs:{clickable:""}},[o("q-item-section",[e._v(e._s(t.name))]),o("q-item-section",[o("q-btn",{attrs:{flat:"",icon:"delete"}})],1)],1)})),1):e._e()],1)],1),o("div",{staticClass:"row"},[o("div",{staticClass:"col-6 q-pa-sm"},[o("q-btn",{staticClass:"aboo_btn primary full-width",attrs:{label:e.modules._id?"Actualizar":"guardar",loading:e.loading,type:"submit"}})],1),o("div",{staticClass:"col-6 q-pa-sm"},[o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"aboo_btn secundary full-width",attrs:{label:"Cancelar",id:"close_form"}})],1)])]),o("div",[e.showAddCapabilies?o("div",[o("q-input",{attrs:{outlined:"",dark:"",type:"text",label:"Nombre","label-color":"white"},model:{value:e.CapabilitieName,callback:function(t){e.CapabilitieName=t},expression:"CapabilitieName"}}),o("q-btn",{staticClass:"aboo_btn secundary full-width",attrs:{label:"agregar"},on:{click:e.addCapablities}}),o("q-btn",{staticClass:"aboo_btn secundary full-width",attrs:{label:"Cancelar"},on:{click:function(t){e.showAddCapabilies=!e.showAddCapabilies}}})],1):e._e()])],1)],1)],1)},r=[],d=(o("b0c0"),{name:"modulesForm",data:function(){return{loading:!1,showAddCapabilies:!1,CapabilitieName:null}},computed:{},props:{modules:{type:Object,default:function(){return{_id:null,name:null,capabilites:[]}}}},methods:{store:function(){if(this.modules.name){this.loading=!0;this.modules._id?this.update():this.create()}else this.$q.notify({message:"debe colocar un nombre",color:"red",position:"right"})},create:function(){var e=this;axios.post("/modules",this.modules).then((function(t){e.$q.notify({message:"Guardado con exitos",color:"green",position:"right"}),e.$root.$emit("modules_refresh")})).catch((function(e){console.log(e)}))},update:function(){var e=this;axios.put("/modules/"+this.modules._id,this.modules).then((function(t){e.$q.notify({message:"actualizado con exitos",color:"green",position:"right"}),e.$root.$emit("modules_refresh")})).catch((function(e){console.log(e)}))},addCapablities:function(){if(!this.CapabilitieName)return this.$q.notify({message:"coloque una descripcion",color:"red",position:"right"});var e={name:this.CapabilitieName};this.modules.capabilites.push(e),this.showAddCapabilies=!1,this.CapabilitieName=null}},mounted:function(){}}),c=d,u=o("2877"),m=o("f09f"),h=o("a370"),p=o("0378"),b=o("27f9"),f=o("9c40"),v=o("1c1c"),g=o("66e5"),_=o("4074"),w=o("714f"),q=o("7f67"),C=o("eebe"),$=o.n(C),x=Object(u["a"])(c,n,r,!1,null,null,null),k=x.exports;$()(x,"components",{QCard:m["a"],QCardSection:h["a"],QForm:p["a"],QInput:b["a"],QBtn:f["a"],QList:v["a"],QItem:g["a"],QItemSection:_["a"]}),$()(x,"directives",{Ripple:w["a"],ClosePopup:q["a"]});var Q=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"  item-vel full-width",attrs:{clickable:""}},[o("q-item-section",[e._v(e._s(e.module.name))]),o("q-btn",{attrs:{flat:"",dense:"",icon:"edit"},on:{click:function(t){e.showForm=!e.showForm}}}),o("q-btn",{attrs:{flat:"",dense:"",icon:"delete"},on:{click:function(t){e.showDelete=!e.showDelete}}})],1),o("q-dialog",{model:{value:e.showForm,callback:function(t){e.showForm=t},expression:"showForm"}},[o("modulesForm",{attrs:{modules:e.module}})],1),o("q-dialog",{model:{value:e.showDelete,callback:function(t){e.showDelete=t},expression:"showDelete"}},[o("deleteModal",{attrs:{_id:e.module._id}})],1)],1)},y=[],F=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("q-card",{staticClass:"my-card"},[o("q-card-section",{staticClass:"bg-red-5 text-white text-center"},[o("div",{staticClass:"text-h6"},[e._v("Â¿Seguro quiere eliminar este Modulo?")])]),o("q-separator"),o("q-card-actions",{attrs:{align:"right"}},[o("q-btn",{staticClass:"text-blue",attrs:{flat:""},on:{click:function(t){return e.remove()}}},[e._v("Eliminar")]),o("q-btn",{staticClass:"text-red",attrs:{flat:""},on:{click:function(t){return e.$root.$emit("close_delete")}}},[e._v("Cancelar")])],1)],1)],1)},M=[],N={data:function(){return{}},props:{_id:String},methods:{remove:function(){var e=this;this.$q.loading.show(),axios.delete("/modules/"+this._id).then((function(t){e.$q.notify({message:"eliminado con exitos con exitos",color:"green",position:"right"}),e.$q.loading.hide(),e.$root.$emit("modules_refresh"),e.$root.$emit("close_delete")})).catch((function(t){console.log(t),e.$q.loading.hide()}))}}},A=N,D=o("eb85"),S=o("4b7e"),j=Object(u["a"])(A,F,M,!1,null,null,null),E=j.exports;$()(j,"components",{QCard:m["a"],QCardSection:h["a"],QSeparator:D["a"],QCardActions:S["a"],QBtn:f["a"]});var O={data:function(){return{showForm:!1,showDelete:!1}},components:{modulesForm:k,deleteModal:E},props:["module"],mounted:function(){var e=this;this.$root.$on("close_delete",(function(){e.showDelete=!1}))}},I=O,B=o("24e8"),z=Object(u["a"])(I,Q,y,!1,null,null,null),J=z.exports;$()(z,"components",{QItem:g["a"],QItemSection:_["a"],QBtn:f["a"],QDialog:B["a"]}),$()(z,"directives",{Ripple:w["a"]});var L=o("d784d"),P={data:function(){return{showModal:!1,modules:[]}},components:{modulesForm:k,modulesCard:J,header_vel:L["a"]},methods:{getModules:function(){var e=this;this.$q.loading.show(),axios.get("/modules").then((function(t){e.$q.loading.hide(),console.log(t),e.modules=t.data})).catch((function(t){console.log(t),e.$q.loading.hide()}))}},mounted:function(){var e=this;this.getModules(),this.$root.$on("modules_refresh",(function(){e.getModules(),e.showModal=!1}))}},R=P,G=Object(u["a"])(R,s,l,!1,null,null,null),H=G.exports;$()(G,"components",{QBtn:f["a"],QDialog:B["a"],QList:v["a"]});var K={components:{modules:H}},T=K,U=o("9989"),V=Object(u["a"])(T,a,i,!1,null,null,null);t["default"]=V.exports;$()(V,"components",{QPage:U["a"]})}}]);